#include<stdio.h>
#include<stdlib.h>
#define SIZE 15
int i,data[10],top=-1,n;

struct stack
{
int data[SIZE],top;
};

typedef struct stack STACK;

void push (STACK *s,int item)
{
if (s->top==SIZE-1)
printf("\nERROR :OVERFLOW\n");
else
s->data[++(s->top)]=item;
}



int pop(STACK *s)
{
if (s->top==-1){
printf("\nERROR:UNDERFLOW\n");
exit(0);
}
else
return s->data[(s->top)--];
}

void display(STACK *s)
{
if (s->top==-1)
printf("\nThe stack is empty\n");
else
{
printf("\nThe elements of stack are:\n");
for(i=0;i<=(s->top);i++)
printf("\n %d\n",s->data[i]);
}

}

void popn(STACK *s,int n)
{
int noe=s->top+1;

if(noe<n)
printf("\n ERROR CANNOT POP MORE");
else
{
printf("\nThe poped elements are :\n");
for(i=0;i<n;i++)
printf("%d\n",pop(s));
}
}

void bot3(STACK *s)
{
STACK s1;
int noe=s->top+1,i,x;
s1.top=-1;

if(noe<3)
printf("\nERROR LESS ELEMENTS\n");
else
{
for(i=s->top;i>=3;i--)
push (&s1,pop(s));

x=s->data[s->top];
printf("\nBottom 3rd element is %d",x);

while(s1.top!=-1)
push(s,pop(&s1));

}
}

void top3(STACK *s)
{
STACK s1;
int noe,i,y;
noe=s->top;
s1.top=-1;

if(noe<3)
printf("\nERROR\n");
else
{
push(&s1,pop(s));
push(&s1,pop(s));

y=s->data[s->top];
printf("\nTop 3rd element is %d ",y);

while (s1.top!=-1)
push(s,pop(&s1));
}
}


void main()
{
int item;


STACK s;
s.top=-1;


printf("\nEnter the number of elements you want to enter into stack now:\n");
scanf("%d",&n);
if(n<=SIZE){
printf("\nEnter the elements of stack from the bottom :\n");
for(i=0;i<n;i++)
{
scanf("%d",&s.data[i]);
s.top++;
}
}
else 
printf("\nRum the program once again and  Please take a lesser size :\n");

for(;;){
printf("\n1.PUSH\n2.POP\n3.DISPLAY\n4.POPN\n5.BOT3\n6.TOP3:");
scanf("%d",&i);

switch(i)
{
case 1:
printf("\nEnter the element :\n");
scanf("%d",&item);
push(&s,item);
display(&s);
break;


case 2:
printf("\nThe element poped is :%d\n",pop(&s));
break;


case 3:
display(&s);
break;

case 4:
printf("Enter the value of n:");
scanf("%d",&n);
popn(&s,n);
break;

case 5:
bot3(&s);
break;

case 6:
top3(&s);
break;


default: exit(0);
}
}
}
